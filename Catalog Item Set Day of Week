function onChange(control, oldValue, newValue, isLoading) {
	if (isLoading || newValue == '') {
		return;
	}

	var sDT = g_form.getValue('start_date_time');

	var dateAjax = new GlideAjax('x_waem2_vms.VisitorManagementAJAX');
	dateAjax.addParam('sysparm_name', 'getDayOfWeek');
	dateAjax.addParam('sysparm_start_date', newValue);
	dateAjax.getXMLAnswer(function(dow) {
		dow = JSON.parse(dow);
		// Monday equals 1, Sunday equals 7.
		var dateMap = { '7': 'sun', '1':'mon', '2':'tue', '3':'wed', '4': 'thu', '5': 'fri', '6': 'sat' };

		// Lookup the DoW number and set the value of the matching date map
		for (var key in dateMap) {
			var dowNum = parseInt(key, 10);
			var dowName = 'repeat_on_' + dateMap[key];
			
			// Reset the DoW checkboxes
			g_form.clearValue(dowName);

			if (dow == dowNum) {
				g_form.setValue(dowName, 'true');
			}
		}
	});
	
}

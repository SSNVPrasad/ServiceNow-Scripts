function cancelRequest(){
	var submitFlag = confirm('Are you sure you want to cancel this request?' + '\n\n' + 'This will cancel all outstanding approvals and set the request state to "Cancelled".');
	if(!submitFlag){
         return false;   //Abort submission
     }
         //Call the UI Action and skip the 'onclick' function
         gsftSubmit(null, g_form.getFormElement(), 'cancel.variance.request'); //Call UI Action name
}

if(typeof window == 'undefined')
	cancelVariance();

// Server side code
function cancelVariance(){
var user = gs.getUserDisplayName();
	current.state = 7;
	current.approval = 'Cancelled';
	current.close_notes = ('Request cancelled by ' + user + '.');
	current.update();
	
var w = new Workflow();
	w.cancel(current);
	action.setRedirectURL(current);
	current.update();
	gs.addInfoMessage('The Variance Request has been cancelled. Please submit a new request if needed.');

}
